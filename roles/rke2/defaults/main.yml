---
# =============================================================================
# RKE2 Ansible Role - Default Variables
# =============================================================================

# -----------------------------------------------------------------------------
# Installation Settings
# -----------------------------------------------------------------------------
rke2_channel: "stable"
rke2_install_version: ""
rke2_force_tarball_install: false
rke2_package_state: "installed"
rke2_tarball_install_dir: "/usr/local"
rke2_install_local_tarball_path: ""
rke2_install_tarball_url: ""

# Container images for air-gap installations
rke2_images_urls: []
rke2_images_local_tarball_path: []

# -----------------------------------------------------------------------------
# Paths and Directories
# -----------------------------------------------------------------------------
rke2_config_dir: "/etc/rancher/rke2"
rke2_data_dir: "/var/lib/rancher/rke2"
rke2_bin_path: "/var/lib/rancher/rke2/bin"
rke2_kubeconfig_path: "/etc/rancher/rke2/rke2.yaml"

# -----------------------------------------------------------------------------
# Network Settings
# -----------------------------------------------------------------------------
rke2_api_port: 6443
rke2_supervisor_port: 9345
rke2_kubelet_port: 10250
rke2_etcd_client_port: 2379
rke2_etcd_peer_port: 2380
rke2_flannel_port: 8472
rke2_https_port: 443
rke2_nodeport_range: "30000:32767"
rke2_cluster_cidr: "10.42.0.0/16"

# Firewall configuration
rke2_add_iptables_rules: false

# Cluster join settings
rke2_kubernetes_api_server_host: ""

# -----------------------------------------------------------------------------
# Timeouts and Retries
# -----------------------------------------------------------------------------
# API server wait timeout (seconds)
rke2_api_wait_timeout: 300

# Node readiness check settings
rke2_node_ready_timeout: 300
rke2_node_ready_retries: 30
rke2_node_ready_delay: 10

# Kubelet process check settings
rke2_kubelet_check_retries: 20
rke2_kubelet_check_delay: 10

# RPM installation retry settings
rke2_rpm_install_retries: 10
rke2_rpm_install_delay: 30

# Reboot timeout for CIS hardening
rke2_reboot_timeout: 300

# -----------------------------------------------------------------------------
# Configuration File Paths (optional)
# -----------------------------------------------------------------------------
rke2_audit_policy_config_file_path: ""
rke2_registry_config_file_path: ""
rke2_pod_security_admission_config_file_path: ""
rke2_systemd_env_config_file_path: ""

# Manifest directories for auto-deployment
rke2_manifest_config_directory: ""
rke2_manifest_config_post_run_directory: ""

# -----------------------------------------------------------------------------
# RPM Repository Configuration
# -----------------------------------------------------------------------------
rke2_common_yum_repo:
  name: rancher-rke2-common
  description: "Rancher RKE2 Common Latest"
  baseurl: "https://rpm.rancher.io/rke2/{{ rke2_channel }}/common/centos/$releasever/noarch"
  gpgcheck: true
  gpgkey: "https://rpm.rancher.io/public.key"
  enabled: true

rke2_versioned_yum_repo:
  name: "rancher-rke2-v{{ rke2_version_majmin }}"
  description: "Rancher RKE2 Version"
  baseurl: "https://rpm.rancher.io/rke2/{{ rke2_channel }}/{{ rke2_version_majmin }}/centos/$releasever/$basearch"
  gpgcheck: true
  gpgkey: "https://rpm.rancher.io/public.key"
  enabled: true

# -----------------------------------------------------------------------------
# RKE2 Configuration (merged with cluster/group/host configs)
# -----------------------------------------------------------------------------
rke2_config: {}

# -----------------------------------------------------------------------------
# Internal State Variables (automatically managed - do not modify)
# -----------------------------------------------------------------------------
rke2_kubelet_node_name: []
rke2_metrics_running: false
rke2_node_ready: false
rke2_api_server_running: false
rke2_installed: false
rke2_running: false
rke2_version_changed: false
rke2_reboot: false
rke2_version_majmin: ""
rke2_version_rpm: ""
rke2_full_version: ""
